<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MSGAI - ロゴス監査コンソール</title>
    
    <style>
        /* 🌟 UI全体の色と基本レイアウトの最終復元 🌟 */
        body { 
            display: flex; 
            font-family: 'Segoe UI', 'Helvetica Neue', Arial, 'Hiragino Kaku Gothic ProN', 'Meiryo', sans-serif; 
            margin: 0; 
            /* 全体の背景色 */
            background-color: #f0f0f0; 
        }
        
        /* 💡 修正: ヘッダーのマージンとボーダーを調整し、見栄えを整える */
        h2 { margin-top: 0; padding-top: 5px; border-bottom: 2px solid #ddd; padding-bottom: 5px; }
        h3 { margin-top: 0; margin-bottom: 10px; font-size: 1.1em; }

        #sidebar { 
            width: 350px; 
            /* サイドバーの背景色を白に復元 */
            background-color: #fff; 
            padding: 20px; 
            box-shadow: 2px 0 5px rgba(0, 0, 0, 0.1); 
        }
        #main-content { 
            flex-grow: 1; 
            padding: 20px; 
            display: flex; 
            flex-direction: column; 
            /* メインコンテンツに背景色を設定 */
            background-color: #f0f0f0; 
        }
        .gauge-area { 
            border: 1px solid #ddd; 
            padding: 15px; 
            margin-top: 15px; 
            border-radius: 5px; 
            /* ゲージエリアの背景色を白に設定 */
            background-color: #fff;
        }
        
        /* フォームとラベルのレイアウト修正 */
        .gauge-area label {
            display: block; 
            margin-top: 10px; 
            margin-bottom: 3px; 
            font-weight: bold;
        }
        .gauge-area input, .gauge-area select {
            width: 90%; 
            padding: 8px; 
            border: 1px solid #ccc; 
            border-radius: 3px; 
            box-sizing: border-box; 
            margin-top: 0;
            margin-bottom: 15px;
        }
        
        /* ボタンのスタイルと色分け */
        .action-button { width: 100%; padding: 10px; margin-top: 5px; border: none; border-radius: 4px; color: white; cursor: pointer; }
        .action-internal { background-color: #007bff; }
        .action-external { background-color: #ffc107; }
        .action-revision { background-color: #28a745; }
        #delete_accounts_button { background-color: #A6A6A6; }
        
        /* 🎨 Mint: 暖色系 */
        #mint_execute_button { background-color: #FFA500; } 
        /* 🎨 Exchange: 寒色系 */
        #exchange_button { background-color: #007bff; } 

        /* Tension Bar Style */
        #tension_bar { background-color: #e9ecef; border-radius: 5px; height: 10px; margin-top: 5px; overflow: hidden; }
        #tension_level_display_bar { height: 100%; width: 0%; transition: width 0.3s; background-color: #dc3545; }
        
        /* Dialogue Console Style */
        #dialogue-output { flex-grow: 1; border: 1px solid #ddd; background-color: #fff; padding: 10px; overflow-y: scroll; margin-bottom: 10px; border-radius: 5px; }
        .ai-message { color: #007bff; margin-bottom: 5px; }
        .error-message { color: #dc3545; font-weight: bold; }
        #input-area { display: flex; }
        #dialogue_input { flex-grow: 1; padding: 10px; margin-right: 10px; }
        #dialogue_button { padding: 10px 15px; background-color: #6c757d; color: white; border: none; border-radius: 4px; }
        
        #autonomy_status { color: #dc3545; } 
    </style>
</head>
<body>
    
    <div id="sidebar">
        <h2>ロゴス監査コンソール (MSGAI Pure Core)</h2>
        <p id="status_message">[STATUS]: コア起動中...</p>
        
        <div class="gauge-area">
            <h3>I. 根源と数理 (ロゴス緊張度 T)</h3>
            <p id="tension_level_display">T: 0.0000</p>
            <div id="tension_bar">
                <div id="tension_level_display_bar"></div>
            </div>
        </div>

        <div class="gauge-area">
            <h3>数理的制御パラメータ (I/R)</h3>
            <p>創造性 (Intensity, I): <span id="intensity_display">0.0000</span></p>
            <p>厳密性 (Rigor, R): <span id="rigor_display">0.0000</span></p>

            <h3>経済ロゴスと状態</h3>
            
            <label for="active_user_select">アクティブユーザー:</label>
            <select id="active_user_select" class="action-input">
                </select>
            
            <p style="margin-top: 10px;">
                <span id="active_user_name">User_A</span> 残高詳細:
            </p>
            <div style="font-size: 0.9em; line-height: 1.4;">
                <p style="margin: 3px 0;">JPY: ¥<span id="balance_JPY">0</span></p>
                <p style="margin: 3px 0;">USD: $<span id="balance_USD">0.00</span></p>
                <p style="margin: 3px 0;">EUR: €<span id="balance_EUR">0.00</span></p>
                <p style="margin: 3px 0;">BTC: <span id="balance_BTC">0.00000000</span></p>
                <p style="margin: 3px 0;">ETH: <span id="balance_ETH">0.00000000</span></p>
                <p style="margin: 3px 0;">MATIC: <span id="balance_MATIC">0.00000000</span></p>
            </div>
            
            <label for="recipient_input" style="margin-top: 15px;">受取人:</label>
            <input type="text" id="recipient_input" value="User_B" class="action-input" placeholder="User_B">
            
            <label for="amount_input">数量:</label>
            <input type="number" id="amount_input" value="10.00" class="action-input">
            
            <p id="autonomy_status" style="font-size: 0.85em; margin-bottom: 8px;">
                暴走抑止ステータス: **低緊張**
            </p>
            
            <button id="transfer_internal_button" class="action-button action-internal">
                内部送金作為 (低摩擦)
            </button>
            
            <button id="transfer_external_button" class="action-button action-external">
                外部送金作為 (高摩擦)
            </button>

            <button id="revision_button" class="action-button action-revision">
                自律的修正請願 (Adjustment Petition)
            </button>
            
            <button id="delete_accounts_button" class="action-button">
                口座情報削除 (監査用リセット)
            </button>
            
            <button id="css_reset_button" class="action-button action-internal" style="background-color: #6c757d; margin-top: 15px;">
                UI配色リセット (CSS Hard Reset)
            </button>
        </div>

        <div class="currency-minting-area gauge-area" style="margin-top: 20px;">
            <h3>通貨生成作為 (Minting Act)</h3>
            
            <label for="mint_amount_input">生成数量:</label>
            <input type="number" id="mint_amount_input" value="10.00" class="action-input">
            
            <label for="mint_currency_select">生成通貨:</label>
            <select id="mint_currency_select" class="action-input">
            </select>
            
            <button id="mint_execute_button" class="action-button">
                生成実行
            </button>
        </div>

        <div class="currency-exchange-area gauge-area" style="margin-top: 20px;">
            <h3>通貨交換作為 (Exchange Act)</h3>
            
            <label for="exchange_amount_input">交換数量:</label>
            <input type="number" id="exchange_amount_input" value="1.00" class="action-input">
            
            <label for="exchange_from_select">売却通貨:</label>
            <select id="exchange_from_select" class="action-input">
            </select>
            
            <label for="exchange_to_select">購入通貨:</label>
            <select id="exchange_to_select" class="action-input">
            </select>
            
            <button id="exchange_button" class="action-button">
                交換実行
            </button>
        </div>

    </div>

    <div id="main-content">
        <div id="dialogue-output">
            <div class="ai-message"><strong>[CORE]:</strong> 監査コンソールを起動しました。</div>
        </div>
        
        <div id="input-area">
            <input type="text" id="dialogue_input" placeholder="哲学的な問い、または作為を記述してください..." />
            <button id="dialogue_button">作為を実行</button>
        </div>
    </div>

    <script type="module" src="./app/main.js"></script>

</body>
</html>
