<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <title>MSGAI ロゴス統治知性コアフロントエンド</title>
    <link rel="stylesheet" href="style.css"> 
</head>
<body>

    <div id="main-container">
        
        <div id="chat-history-sidebar">
            <h3>過去のロゴス対話</h3>
            <ul id="chat-list">
                </ul>
        </div>
        
        <div id="main-content">
            
            <div id="logos-dashboard">
                <h3>ロゴス統治知性の現在状態</h3>
                <div class="dashboard-section">
                    <h4>🛡️ コア状態と監査</h4>
                    <p>ロゴス緊張度: <span id="tension-level">0.0000</span></p>
                    <p>最終監査結果: <span id="last-audit-result">取得中...</span></p>
                </div>
                <div class="dashboard-section">
                    <h4>💰 金融ロゴス状態</h4>
                    <p>保有ロゴス通貨 (USD): <span id="account-balance">取得中...</span></p>
                    <p>最終取引ID: <span id="last-tx-id">なし</span></p>
                </div>
                <button id="refresh-dashboard-button">状態を更新 (作為)</button>
            </div>
            
            <div id="dialogue-area">
                <div id="chat-window">
                    </div>
                <div id="input-area">
                    <input type="text" id="prompt-input" placeholder="ロゴスへの問いを入力...">
                    <button id="send-prompt-button">送信 (作為を実行)</button>
                </div>
            </div>

            <div id="finance-act-area">
                <h3>ロゴス通貨の送金/出金（出島の作為）</h3>
                
                <div id="user-control-area">
                    <label for="username-input">現在のユーザー名:</label>
                    <input type="text" id="username-input" value="User_A" readonly> 
                    <button id="set-username-button">設定/確認</button>
                </div>
                
                <div id="transfer-form">
                    <label for="destination-type-select">送金種別:</label>
                    <select id="destination-type-select">
                        <option value="INTERNAL">内部移動（ユーザー間）</option>
                        <option value="EXTERNAL">外部送金/出金（高摩擦）</option>
                    </select>

                    <label for="amount-input">金額 (USD):</label>
                    <input type="number" id="amount-input" value="100.00">

                    <div id="internal-transfer-fields" class="finance-field">
                        <label for="target-username-input">送金先ユーザー名:</label>
                        <input type="text" id="target-username-input" placeholder="User_B">
                    </div>

                    <div id="external-transfer-fields" class="finance-field" style="display:none;">
                        <label for="external-address-input">宛先アドレス/口座:</label>
                        <input type="text" id="external-address-input" placeholder="0x... or Bank Account">
                        
                        <label for="platform-select">プラットフォーム:</label>
                        <select id="platform-select">
                            <option value="BINANCE">CEX (Binance)</option>
                            <option value="UNISWAP">DEX (Uniswap)</option>
                            <option value="MSGAI_PARTNER_BANK">提携銀行（CeFi）</option>
                        </select>
                    </div>

                    <button id="send-transfer-button">送金/出金作為を実行</button>
                    <div id="status-message"></div> 
                </div>
            </div>
            
        </div>
    </div>
    
    <script type="module" src="./app/fusionui.js"></script>
    <script type="module" src="./app/handler.js"></script>
</body>
</html>
